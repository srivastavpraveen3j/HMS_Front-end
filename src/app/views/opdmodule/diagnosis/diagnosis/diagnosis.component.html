<div class="form-meta">
  <div class="header">
    <h2>OPD DIAGNOSIS SHEET</h2>
    <span class="icons position-relative">
      <i
        class="fa-solid fa-user-tie mx-2"
        (click)="showUHIDDropdown = !showUHIDDropdown"
      ></i>
      <i
        class="fa-solid fa-signal"
        [routerLink]="['/opd/opddiagnosissheetlist']"
        routerLinkActive="router-link-active"
      ></i>

      <div *ngIf="showUHIDDropdown" class="dropdown-uhid-custom">
        <div
          *ngIf="uhidTodayRecords?.length === 0"
          class="text-center text-muted py-2"
        >
          No InPatient Case Created today.
        </div>

        <ul class="uhid-list">
          <li
            *ngFor="let record of uhidTodayRecords"
            (click)="selectPatientFromUHID(record)"
            style="cursor: pointer"
          >
            <div class="uhid-name">
              {{ record.uniqueHealthIdentificationId?.patient_name }}
            </div>
            <div class="uhid-meta">
              UHID: {{ record.uniqueHealthIdentificationId?.uhid }} | Age:
              {{ record.uniqueHealthIdentificationId?.age }}
            </div>
          </li>
        </ul>
      </div>
    </span>
  </div>
  <div class="diagnosis-container" *ngIf="userPermissions.create">
    <form action="" [formGroup]="diagnosisheet" (ngSubmit)="OnSubmit()">
      <div class="section patient-details">
        <div class="d-flex">
          <div class="w-100">
            <div class="form-row row">
              <div class="form-group col-md-3">
                <label for="" class="form-label">Patient UHID</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="UHID"
                  formControlName="uhid"
                  required
                  readonly
                />
                <div
                  *ngIf="
                    diagnosisheet.get('uhid')?.invalid &&
                    diagnosisheet.get('uhid')?.touched
                  "
                  class="error-message"
                >
                  UHID Number is required.
                </div>
              </div>

              <div class="form-group col-md-3">
                <label>Patient*:</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Enter patient name"
                  formControlName="patient_name"
                  (input)="onPatientInput()"
                  (focus)="showSuggestions = true"
                  (blur)="hideSuggestionsWithDelay()"
                  readonly
                />

                <div
                  *ngIf="showSuggestions && filteredPatients.length > 0"
                  class="suggestions-container"
                >
                  <ul class="suggestions">
                    <li
                      *ngFor="let patient of filteredPatients"
                      (mousedown)="selectPatient(patient)"
                    >
                      {{ patient.patient_name }}
                      {{ patient.mobile_no ? "| " + patient.mobile_no : "" }}
                      {{ patient.uhid ? "| " + patient.uhid : "" }}
                    </li>
                  </ul>
                </div>

                <div
                  *ngIf="
                    diagnosisheet.get('patient_name')?.value &&
                    diagnosisheet.get('patient_name')?.value.length > 2 &&
                    !filteredPatients.length &&
                    !manuallySelected
                  "
                  class="text-danger"
                >
                  No matching patients found
                </div>
                <div
                  *ngIf="
                    diagnosisheet.get('patient_name')?.touched &&
                    diagnosisheet.get('patient_name')?.invalid
                  "
                  class="text-danger"
                >
                  Patient name is required
                </div>
              </div>

              <div class="form-group col-md-3">
                <label for="" class="form-label">Age</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Age"
                  formControlName="age"
                  readonly
                />
                <div
                  *ngIf="
                    diagnosisheet.get('age')?.invalid &&
                    diagnosisheet.get('age')?.touched
                  "
                  class="error-message"
                >
                  Age is required.
                </div>
              </div>

              <div class="form-group col-md-3">
                <label for="" class="form-label">Gender</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Gender"
                  formControlName="gender"
                  readonly
                />
                <div
                  *ngIf="
                    diagnosisheet.get('gender')?.invalid &&
                    diagnosisheet.get('gender')?.touched
                  "
                  class="error-message"
                >
                  Age is required.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="section symptoms">
        <h4>SYMPTOMS</h4>
        <div class="form-group mb-2">
          <input
            type="text"
            class="form-control"
            [formControl]="searchTextControl"
            placeholder="Search symptoms..."
          />
        </div>

        <div class="d-flex gap-3">
          <div
            class="card p-3"
            style="width: 280px; max-height: 300px; overflow-y: auto"
          >
            <ng-container
              *ngIf="symptoms && symptoms.length > 0; else loadingServices"
            >
              <span
                *ngFor="let symptom of symptoms; let i = index"
                (click)="selectSymptom($event, symptom, i)"
                class="tag"
                [class.selected]="isSymptomSelected(symptom)"
                [style.background-color]="
                  isSymptomSelected(symptom) ? '#0d6efd' : '#6c757d'
                "
                [style.color]="'white'"
                [style.cursor]="'pointer'"
              >
                {{ symptom.name }}
              </span>
            </ng-container>
            <ng-template #loadingServices>
              <p>Loading symptoms...</p>
            </ng-template>
          </div>

          <div
            class="card p-2"
            style="width: 250px; max-height: 300px; overflow-y: auto"
          >
            <h6 class="mb-2">Selected ({{ selectedSymptoms.length }})</h6>
            <div class="d-flex flex-wrap gap-1 mb-2">
              <span
                *ngFor="let symptom of selectedSymptoms"
                class="badge bg-primary"
                style="cursor: pointer"
                (click)="removeSelectedSymptom(symptom)"
              >
                {{ symptom.name }} <i class="fas fa-times ms-1"></i>
              </span>
            </div>
            <hr />
            <div class="d-grid gap-2">
              <button
                type="button"
                class="btn btn-sm btn-outline-success"
                (click)="addSelectedSymptomsToTable()"
                [disabled]="selectedSymptoms.length === 0"
              >
                Add to Table ({{ selectedSymptoms.length }})
              </button>
              <button
                type="button"
                class="btn btn-sm btn-outline-secondary"
                (click)="clearSymptomSelection()"
                [disabled]="selectedSymptoms.length === 0"
              >
                Clear All
              </button>

            </div>

            <div class="mt-2 text-muted" style="font-size: 10px">
              <strong>Multi-Select:</strong><br />
              â€¢ Click: Single select<br />
              â€¢ Ctrl+Click: Toggle select<br />
              â€¢ Shift+Click: Range select
            </div>
          </div>

          <div
            class="table-responsive"
            style="flex-grow: 1; max-height: 300px; overflow-y: auto"
          >
            <table
              class="table table-bordered table-hover align-middle diagnosis-table"
            >
              <thead class="table-dark">
                <tr>
                  <th style="width: 40px">Sr No</th>
                  <th>SYMPTOMS</th>
                  <th>PROPERTIES</th>
                  <th>SINCE</th>
                  <th>REMARKS</th>
                  <th style="width: 80px">ACTIONS</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let row of symptomRows; let i = index">
                  <td>{{ i + 1 }}</td>
                  <td>
                    <input
                      type="text"
                      [(ngModel)]="row.symptomName"
                      [ngModelOptions]="{ standalone: true }"
                      placeholder="Enter Symptoms"
                      class="form-control form-control-sm"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      [(ngModel)]="row.properties"
                      [ngModelOptions]="{ standalone: true }"
                      placeholder="Enter Properties"
                      class="form-control form-control-sm"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      [(ngModel)]="row.since"
                      [ngModelOptions]="{ standalone: true }"
                      placeholder="Since"
                      class="form-control form-control-sm"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      [(ngModel)]="row.remarks"
                      [ngModelOptions]="{ standalone: true }"
                      placeholder="Remarks"
                      class="form-control form-control-sm"
                    />
                  </td>
                  <td>
                    <button
                      type="button"
                      class="btn btn-outline-danger btn-sm"
                      (click)="removeRow(i)"
                    >
                      <i class="fas fa-trash-alt"></i>
                    </button>
                  </td>
                </tr>
                <tr *ngIf="symptomRows.length === 0">
                  <td colspan="6" class="text-center text-muted">
                    No symptoms added. Select symptoms from left or add
                    manually.
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="pagination-controls mt-3">
          <button
            type="button"
            class="btn btn-sm btn-outline-primary"
            [disabled]="currentPage === 1"
            (click)="previousPage()"
          >
            Previous
          </button>
          <span class="mx-3"> Page {{ currentPage }} of {{ totalPages }} </span>
          <button
            type="button"
            class="btn btn-sm btn-outline-primary"
            [disabled]="currentPage === totalPages"
            (click)="nextPage()"
          >
            Next
          </button>
        </div>
      </div> -->

       <div class="mb-3">
        <h4 class="m-4">Symptoms</h4>
        <hr />
        <!-- Search Box -->
        <div class="form-group mb-2">
          <input type="text" class="form-control" [formControl]="searchTextControl" placeholder="Search symptoms..." />
        </div>

        <div class="d-flex gap-3">
          <!-- Symptoms List with Scroll -->
          <div class="card p-4" style="width: 280px; max-height: 300px; overflow-y: auto">
            <ng-container *ngIf="symptoms && symptoms.length > 0; else loading">
              <span *ngFor="let symptom of symptoms" (click)="addSymptom(symptom)"
              class="badge name m-1" [class.selected]="isSymptomSelected(symptom)"
              [style.background-color]="isSymptomSelected(symptom) ? '#0d6efd' : '#6c757d'" [style.color]="'white'"
              [style.cursor]="'pointer'">
              {{ symptom.name }}
            </span>
          </ng-container>
          <!-- Symptoms List with Multi-Select (Left Side) -->
            <!-- <ng-container *ngIf="symptoms && symptoms.length > 0; else loading">
              <span *ngFor="let symptom of symptoms; let i = index" (click)="selectSymptom($event, symptom, i)"
                class="badge name m-1" [class.selected]="isSymptomSelected(symptom)"
                [style.background-color]="isSymptomSelected(symptom) ? '#0d6efd' : '#6c757d'" [style.color]="'white'"
                [style.cursor]="'pointer'">
                {{ symptom.name }}
              </span>
            </ng-container> -->
            <ng-template #loading>
              <p>Loading symptoms...</p>
            </ng-template>
          </div>

          <!-- Selected Symptoms Panel (Middle) -->
          <!-- <div class="card p-2" style="width: 250px; max-height: 300px; overflow-y: auto">
            <h6 class="mb-2">Selected ({{ selectedSymptoms.length }})</h6>
            <div class="d-flex flex-wrap gap-1 mb-2">
              <span *ngFor="let symptom of selectedSymptoms" class="badge bg-primary" style="cursor: pointer"
                (click)="removeSelectedSymptom(symptom)">
                {{ symptom.name }} <i class="fas fa-times ms-1"></i>
              </span>
            </div>
            <hr>
            <div class="d-grid gap-2">
              <button type="button" class="btn btn-sm btn-outline-success" (click)="addSelectedSymptomsToTable()"
                [disabled]="selectedSymptoms.length === 0">
                Add to Table ({{ selectedSymptoms.length }})
              </button>
              <button type="button" class="btn btn-sm btn-outline-secondary" (click)="clearSymptomSelection()"
                [disabled]="selectedSymptoms.length === 0">
                Clear All
              </button> -->
              <!-- <button
               type="button"
               class="btn btn-sm btn-outline-info"
              (click)="addNewRow()"
                >
              + Add Blank Row
             </button> -->
            <!-- </div> -->

            <!-- Usage Instructions -->
            <!-- <div class="mt-2 text-muted" style="font-size: 10px;">
              <strong>Multi-Select:</strong><br>
              â€¢ Click: Single select<br>
              â€¢ Ctrl+Click: Toggle select<br>
              â€¢ Shift+Click: Range select
            </div>
          </div> -->

          <!-- Table Section with Scroll (Right Side) -->
          <div class="card p-2" style="flex-grow: 1; max-height: 300px; overflow: auto">
            <table class="table table-sm table-bordered table-hover align-middle mb-0">
              <thead class="table-dark">
                <tr>
                  <th style="width: 40px; text-align: center">
                    <i class="fa-solid fa-plus" style="cursor: pointer" (click)="addNewRow()"></i>
                  </th>
                  <th>SYMPTOMS</th>
                  <th>PROPERTIES</th>
                  <th>SINCE</th>
                  <th>REMARKS</th>
                  <th>ACTIONS</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let row of symptomRows; let i = index">
                  <td class="">{{ i + 1 }}</td>
                  <td>
                    <input type="text" class="form-control form-control-sm" [(ngModel)]="row.symptomName"
                      [ngModelOptions]="{ standalone: true }" placeholder="Enter Symptoms" />
                  </td>
                  <td>
                    <input type="text" class="form-control form-control-sm" [(ngModel)]="row.properties"
                      [ngModelOptions]="{ standalone: true }" placeholder="Enter Properties" />
                  </td>
                  <td>
                    <input type="text" class="form-control form-control-sm" [(ngModel)]="row.since"
                      [ngModelOptions]="{ standalone: true }" placeholder="Since" />
                  </td>
                  <td>
                    <input type="text" class="form-control form-control-sm" [(ngModel)]="row.remarks"
                      [ngModelOptions]="{ standalone: true }" placeholder="Remarks" />
                  </td>
                  <td class="">
                    <button type="button" class="btn btn-outline-danger btn-sm" (click)="removeRow(i)">
                      <i class="fas fa-trash-alt"></i>
                    </button>
                  </td>
                </tr>
                <!-- <tr *ngIf="symptomRows.length === 0">
                  <td colspan="6" class="text-center text-muted">
                    No symptoms added. Select symptoms from left or add manually.
                  </td>
                </tr> -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- Pagination -->
        <div class="pagination-controls mt-3">
          <button type="button" class="btn btn-sm btn-outline-primary" [disabled]="currentPage === 1"
            (click)="previousPage()">
            Previous
          </button>
          <span class="mx-3"> Page {{ currentPage }} of {{ totalPages }} </span>
          <button type="button" class="btn btn-sm btn-outline-primary" [disabled]="currentPage === totalPages"
            (click)="nextPage()">
            Next
          </button>
        </div>
      </div>

      <div class="row">
        <div class="section clinical-exam col-md-4">
          <h4>EXAMINATION</h4>
          <textarea
            placeholder="Enter the details here..."
            class="form-control"
            formControlName="clinicalExamination"
          ></textarea>
        </div>
        <div class="section diagnosis-exam col-md-4">
          <h4>DIAGNOSIS</h4>
          <textarea
            placeholder="Enter the details here..."
            class="form-control"
            formControlName="diagnosis"
          ></textarea>
        </div>
        <div class="section history-exam col-md-4">
          <h4>FAMILY HISTORY</h4>
          <textarea
            placeholder="Enter the details here..."
            class="form-control"
            formControlName="medicalHistory"
          ></textarea>
          <!-- <div class="actions">
    <button class="save btn btn-secondary m-3">SAVE TEMPLATE</button>
    <button class="select btn btn-secondary">SELECT TEMPLATE</button>
  </div> -->
        </div>
      </div>

      <!-- <div class="section primary-exam">
  <h4>PRIMARY DIAGNOSIS</h4>
  <textarea placeholder="Enter the details here..." class="form-control" formControlName="primaryDiagnosis"></textarea> -->
      <!-- <div class="actions">
    <button class="save btn btn-secondary m-3">SAVE TEMPLATE</button>
    <button class="select btn btn-secondary">SELECT TEMPLATE</button>
  </div> -->
      <!-- </div> -->
      <div class="section allergic-exam">
        <!-- <h4>ALLERGY</h4>
        <textarea
          placeholder="Enter the details here..."
          class="form-control"
          formControlName="allergy"
        ></textarea> -->

        <!--
   <h6>ADDICTION</h6>
     <hr>
   <div class="form-row">

    <div class="form-group">
        <label>ALOCHOL:</label>
        <div class="d-flex">
          <input type="checkbox" name="" id="">
          <input type="text" placeholder="ALOCHOL" formControlName="addiction">
        </div>
    </div>
    <div class="form-group">
      <label>SMOKING:</label>
      <div class="d-flex">
        <input type="checkbox" name="" id="">
        <input type="text" placeholder="SMOKING"   formControlName="addiction">
      </div>
  </div>
    <div class="form-group">
        <label>TOBACCO:</label>
        <div class="d-flex">
          <input type="checkbox" name="" id="">
          <input type="text" placeholder="TOBACCO"  formControlName="addiction">
        </div>
    </div>
</div> -->
        <!-- <h6>ALLERGY</h6> -->
        <hr />

        <!-- <h6>OCCUPATION</h6>
    <hr>
  <div class="form-row">

    <div class="form-group">
        <label>108:</label>
        <div class="d-flex">
          <input type="checkbox" name="" id="">
          <input type="text" placeholder="108">
        </div>
    </div>
    <div class="form-group">
      <label>CHEMICAL:</label>
      <div class="d-flex">
        <input type="checkbox" name="" id="">
        <input type="text" placeholder="CHEMICAL">
      </div>
  </div>
    <div class="form-group">
        <label>HOUSEWIFE:</label>
        <div class="d-flex">
          <input type="checkbox" name="" id="">
          <input type="text" placeholder="HOUSEWIFE">
        </div>
    </div>
</div> -->

        <!-- <div class="section extra-exam">
  <h4>EXTRA DETAILS</h4>
  <textarea placeholder="Enter the details here..." class="form-control" formControlName="extraDetails"></textarea> -->
        <!-- <div class="actions">
    <button class="save btn btn-secondary m-3">SAVE TEMPLATE</button>
    <button class="select btn btn-secondary">SELECT TEMPLATE</button>
  </div> -->
        <!-- </div> -->

        <!-- </div> -->

        <div class="m-3">
          <!-- ðŸ” Global medicine search -->
          <div class="mb-3">
            <label for="medicineSearch" class="form-label fw-bold"
              >Search Medicine</label
            >
            <div class="input-group">
              <span class="input-group-text">
                <i class="fa-solid fa-search"></i>
                <!-- Bootstrap icon, or use any icon library -->
              </span>
              <input
                id="medicineSearch"
                type="text"
                class="form-control form-control-lg"
                [formControl]="medicineSearchControl"
                placeholder="Type medicine name..."
              />
            </div>
          </div>

          <!-- Search Results -->
          <div *ngIf="filteredMedicines.length > 0" class="mt-3">
            <h6 class="text-muted mb-2">
              Search Results ({{ filteredMedicines.length }} found)
            </h6>

            <div class="list-group" style="max-height: 300px; overflow-y: auto">
              <button
                *ngFor="let med of filteredMedicines"
                type="button"
                class="list-group-item list-group-item-action p-3"
                (click)="selectMedicine(med)"
                [class.list-group-item-secondary]="med.stock === 0"
                [disabled]="med.stock === 0"
              >
                <div class="d-flex justify-content-between align-items-start">
                  <div class="flex-grow-1">
                    <!-- Medicine Name -->
                    <h6
                      class="mb-1 fw-bold"
                      [class.text-muted]="med.stock === 0"
                    >
                      {{ med.medicine_name }}
                    </h6>

                    <!-- Price and Stock Info -->
                    <!-- <div class="row g-0">
                      <div class="col-md-6">
                        <small class="text-muted">Price:</small>
                        <span class="fw-semibold text-success ms-1"
                          >â‚¹{{ med?.price }}</span
                        >
                      </div>
                      <div class="col-md-6">
                        <small class="text-muted">Stock:</small>
                        <span
                          class="ms-1 fw-semibold"
                          [class.text-danger]="med.current_stock === 0"
                          [class.text-warning]="
                            med.current_stock > 0 && med.current_stock <= 10
                          "
                          [class.text-success]="med.current_stock > 10"
                        >
                          {{ med.current_stock }} units
                        </span>
                      </div>
                    </div> -->
                  </div>

                  <!-- Stock Status Badge -->
                  <div class="ms-2">
                    <span
                      *ngIf="med.current_stock === 0"
                      class="badge bg-danger"
                    >
                      Out of Stock
                    </span>
                    <span
                      *ngIf="med.stock > 0 && med.current_stock <= 10"
                      class="badge bg-warning text-dark"
                    >
                      Low Stock
                    </span>
                    <span
                      *ngIf="med.current_stock > 10"
                      class="badge bg-success"
                    >
                      Available
                    </span>
                  </div>
                </div>
              </button>
            </div>
          </div>

          <!-- No Results Message -->
          <div
            *ngIf="
              medicineSearchControl.value && filteredMedicines.length === 0
            "
            class="alert alert-info mt-3"
          >
            <i class="fa-solid fa-info-circle me-2"></i>
            No medicines found matching "{{ medicineSearchControl.value }}"
          </div>

          <!-- Stock Warning -->
          <div *ngIf="stockWarning" class="alert alert-danger mt-3">
            <i class="bi bi-exclamation-triangle me-2"></i>
            <strong>Warning:</strong> Selected medicine is currently out of
            stock.
          </div>
        </div>

        <!-- ðŸ“‹ Medicine List Table -->
        <table
          class="table table-bordered table-hover align-middle diagnosis-table"
        >
          <thead class="table-dark">
            <tr>
              <th>#</th>
              <th>MEDICINE NAME</th>
              <th>QTY</th>
              <!-- <th>Price</th> -->
              <th>Dosage Instruction</th>
              <th>Time</th>
              <th></th>
            </tr>
          </thead>
          <tbody formArrayName="medicinesArray">
            <tr
              *ngFor="let row of medicinesArray.controls; let i = index"
              [formGroupName]="i"
            >
              <td>{{ i + 1 }}</td>
              <td>
                <input
                  type="text"
                  class="form-control"
                  formControlName="medicine_name"
                  readonly
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control"
                  formControlName="quantity"
                  [attr.max]="
                    pharmapermission ? row.get('availableStock')?.value : null
                  "
                  [attr.min]="1"
                  (change)="checkQuantity(i)"
                />
              </td>

              <td>
                <input
                  type="text"
                  class="form-control"
                  formControlName="charge"
                  readonly
                />
              </td>
              <td>
                <!-- Hidden input bound to form control -->
                <input
                  type="text"
                  formControlName="dosageInstruction"
                  class="form-control"
                  readonly
                />

                <!-- Checkboxes -->
                <div class="form-check">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="beforeMeal"
                    (change)="updateDosageInstruction($event, 'Before Meal', i)"
                  />
                  <label class="form-check-label" for="beforeMeal"
                    >Before Meal</label
                  >
                </div>

                <div class="form-check">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="afterMeal"
                    (change)="updateDosageInstruction($event, 'After Meal', i)"
                  />
                  <label class="form-check-label" for="afterMeal"
                    >After Meal</label
                  >
                </div>
              </td>

              <td>
                <div formGroupName="checkbox">
                  <label
                    ><input type="checkbox" formControlName="morning" />
                    Morning</label
                  >
                  <label
                    ><input type="checkbox" formControlName="noon" />
                    Noon</label
                  >
                  <!-- <label
                ><input type="checkbox" formControlName="evening" />
                Evening</label
              > -->
                  <label
                    ><input type="checkbox" formControlName="night" />
                    Night</label
                  >
                </div>
              </td>
              <td>
                <button
                  type="button"
                  class="btn btn-outline-danger btn-sm"
                  (click)="removeMedicineRow(i)"
                >
                  Remove
                </button>
              </td>
            </tr>
          </tbody>
        </table>

        <div class="row">
          <div class="section general-exam col-md-4">
            <h4>Lab Test or Radiology Prescription</h4>
            <textarea
              placeholder="Enter the details here..."
              class="form-control"
              formControlName="testprescription"
            ></textarea>
          </div>
          <div class="section general-exam col-md-4">
            <h4>ADVICE</h4>
            <textarea
              placeholder="Enter the details here..."
              class="form-control"
              formControlName="generalAdvice"
            ></textarea>
          </div>
          <div class="section general-exam col-md-4">
            <h4>Next Follow-up Date</h4>
            <input
              type="date"
              class="form-control"
              formControlName="nextFollowUpDate"
            />
          </div>
        </div>

        <div class="text-center">
          <button
            class="btn btn-dark"
            type="submit"
            [disabled]="diagnosisheet.invalid"
          >
            Save & Print
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
